import os
import sys
import shutil
from pathlib import Path


def find_short_name(input):
    """
    This creates a simple dict, where the key is the file name (without extension)
    and the value is the desired filename. This file naming scheme is loosely
    based on discord's file naming conventions.
    """
    dict = {
        '1f308' : 'rainbow',
        '1f30d' : 'globe_europe',
        '1f30e' : 'globe_america',
        '1f30f' : 'globe_asia',
        '1f310' : 'globe_meridians',
        '1f31a' : 'new_moon_face',
        '1f31b' : 'first_quarter_moon',
        '1f31c' : 'last_quarter_moon',
        '1f31d' : 'full_moon_face',
        '1f31e' : 'sun_with_face',
        '1f327' : 'cloud_rain',
        '1f328' : 'cloud_snow',
        '1f329' : 'cloud_lightning',
        '1f32a' : 'tornado',
        '1f335' : 'cactus',
        '1f346' : 'eggplant',
        '1f347' : 'grapes',
        '1f348' : 'melon',
        '1f351' : 'peach',
        '1f352' : 'cherries',
        '1f353' : 'strawberry',
        '1f354' : 'hamburger',
        '1f355' : 'pizza',
        '1f358' : 'rice_cracker',
        '1f359' : 'rice_ball',
        '1f35a' : 'cooked_rice',
        '1f35e' : 'bread',
        '1f35f' : 'french_fries',
        '1f365' : 'fish_cake',
        '1f366' : 'icecream',
        '1f367' : 'shaved_ice',
        '1f368' : 'ice_cream',
        '1f369' : 'doughnut',
        '1f36a' : 'cookie',
        '1f370' : 'cake',
        '1f37a' : 'beer',
        '1f37f' : 'popcorn',
        '1f381' : 'gift',
        '1f383' : 'jack_o_lantern',
        '1f385' : 'santa',
        '1f399' : 'microphone',
        '1f3a8' : 'art',
        '1f3d0' : 'volleyball',
        '1f3db' : 'classical_building',
        '1f3e3' : 'post_office',
        '1f3f3-fe0f-200d-1f308' : 'rainbow_flag',
        '1f3f3-fe0f-200d-26a7-fe0f' : 'trans_flag',
        '1f400' : 'rat',
        '1f401' : 'mouse',
        '1f405' : 'tiger',
        '1f406' : 'leopard',
        '1f407' : 'rabbit',
        '1f408' : 'cat',
        '1f408-200d-2b1b' : 'black_cat',
        '1f409' : 'dragon',
        '1f40a' : 'crocodile',
        '1f40b' : 'whale2',
        '1f40c' : 'snail',
        '1f40f' : 'ram',
        '1f410' : 'goat',
        '1f414' : 'chicken',
        '1f416' : 'pig',
        '1f417' : 'boar',
        '1f419' : 'octopus',
        '1f41f' : 'fish',
        '1f422' : 'turtle',
        '1f423' : 'hatching_chick',
        '1f424' : 'baby_chick',
        '1f425' : 'hatched_chick',
        '1f427' : 'penguin',
        '1f428' : 'koala',
        '1f42a' : 'camel_two_hump',
        '1f42b' : 'camel_one_hump',
        '1f42c' : 'dolphin',
        '1f42d' : 'mouse_face',
        '1f42e' : 'cow_face',
        '1f42f' : 'tiger_face',
        '1f430' : 'rabbit_face',
        '1f431' : 'cat_face',
        '1f432' : 'dragon_face',
        '1f433' : 'whale',
        '1f434' : 'horse_face',
        '1f435' : 'monkey_face',
        '1f436' : 'dog_face',
        '1f437' : 'pig_face',
        '1f438' : 'frog',
        '1f439' : 'hamster',
        '1f43a' : 'wolf',
        '1f43b' : 'bear',
        '1f43b-200d-2744-fe0f' : 'polar_bear',
        '1f43c' : 'panda',
        '1f43f' : 'chipmunk',
        '1f440' : 'eyes',
        '1f474' : 'old_man',
        '1f474-1f3fb' : 'old_man_1',
        '1f474-1f3fc' : 'old_man_2',
        '1f474-1f3fd' : 'old_man_3',
        '1f474-1f3fe' : 'old_man_4',
        '1f474-1f3ff' : 'old_man_5',
        '1f475' : 'old_woman',
        '1f475-1f3fb' : 'old_woman_1',
        '1f475-1f3fc' : 'old_woman_2',
        '1f475-1f3fd' : 'old_woman_3',
        '1f475-1f3fe' : 'old_woman_4',
        '1f475-1f3ff' : 'old_woman_5',
        '1f476' : 'baby',
        '1f476-1f3fb' : 'baby_1',
        '1f476-1f3fc' : 'baby_2',
        '1f476-1f3fd' : 'baby_3',
        '1f476-1f3fe' : 'baby_4',
        '1f476-1f3ff' : 'baby_5',
        '1f47a' : 'goblin',
        '1f47b' : 'ghost',
        '1f47d' : 'alien',
        '1f47f' : 'space_invader',
        '1f480' : 'skull',
        '1f493' : 'heart_beat',
        '1f494' : 'heartbroken',
        '1f496' : 'heart_sparkly',
        '1f497' : 'heart_pulse',
        '1f498' : 'heart_arrow',
        '1f4a9' : 'poop',
        '1f4ac' : 'speech_bubble',
        '1f4ad' : 'thought_bubble',
        '1f4b0' : 'mr_moneybags',
        '1f4b3' : 'credit_card',
        '1f4c8' : 'graph_trending_upwards',
        '1f4c9' : 'graph_trending_downwards',
        '1f4ca' : 'bar_chart',
        '1f4cb' : 'clipboard',
        '1f51e' : 'underage',
        '1f525' : 'fire',
        '1f52e' : 'crystal_ball',
        '1f5e8' : 'speech_bubble',
        '1f5fa' : 'world_map',
        '1f600' : 'grinning',
        '1f601' : 'grin',
        '1f602' : 'joy',
        '1f603' : 'smiley',
        '1f604' : 'smile',
        '1f605' : 'sweat_smile',
        '1f606' : 'laughing',
        '1f607' : 'innocent',
        '1f608' : 'devil_smile',
        '1f609' : 'wink',
        '1f60a' : 'blush',
        '1f60b' : 'yum',
        '1f60c' : 'relieved',
        '1f60d' : 'heart_eyes',
        '1f60e' : 'sunglasses',
        '1f60f' : 'smirk',
        '1f610' : 'neutral_face',
        '1f611' : 'expressionless',
        '1f612' : 'unamused',
        '1f613' : 'sweat',
        '1f614' : 'pensive',
        '1f615' : 'confused',
        '1f616' : 'confounded',
        '1f617' : 'kissing',
        '1f618' : 'kissing_heart',
        '1f619' : 'kissing_closed_eyes',
        '1f61a' : 'kissing_smile',
        '1f61b' : 'stuck_out_tongue',
        '1f61c' : 'winky_tongue',
        '1f61d' : 'laughing_tongue',
        '1f61e' : 'disappointed',
        '1f61f' : 'worried',
        '1f620' : 'angry',
        '1f621' : 'rage',
        '1f622' : 'crying',
        '1f623' : 'perservere',
        '1f624' : 'triumph',
        '1f625' : 'disappointed_relieved',
        '1f626' : 'frowning',
        '1f627' : 'anguished',
        '1f628' : 'fearful',
        '1f629' : 'weary',
        '1f62a' : 'sleepy',
        '1f62b' : 'tired',
        '1f62c' : 'grimace',
        '1f62d' : 'sob',
        '1f62e' : 'exhale',
        '1f62f' : 'hushed',
        '1f630' : 'cold_sweat',
        '1f631' : 'scream',
        '1f632' : 'astonished',
        '1f633' : 'flushed',
        '1f634' : 'sleeping',
        '1f635' : 'dizzy',
        '1f636' : 'no_mouth',
        '1f637' : 'mask',
        '1f638' : 'grin_cat',
        '1f639' : 'joy_cat',
        '1f63a' : 'smile_cat',
        '1f63b' : 'heart_eyes_cat',
        '1f63c' : 'smirk_cat',
        '1f63d' : 'kissing_cat',
        '1f63e' : 'pouting_cat',
        '1f63f' : 'crying_cat_face',
        '1f640' : 'scream_cat',
        '1f641' : 'slight_frown',
        '1f642' : 'slight_smile',
        '1f643' : 'upside_down',
        '1f644' : 'rolling_eyes',
        '1f648' : 'see_no_evil',
        '1f649' : 'hear_no_evil',
        '1f64a' : 'speak_no_evil',
        '1f64c' : 'raised_hands',
        '1f680' : 'rocket',
        '1f68a' : 'train',
        '1f6ab' : 'no_entry_sign',
        '1f6ad' : 'no_smoking',
        '1f6b8' : 'children_crossing',
        '1f7e0' : 'orange_circle',
        '1f7e1' : 'yellow_circle',
        '1f7e2' : 'green_circle',
        '1f7e3' : 'purple_circle',
        '1f7e4' : 'brown_circle',
        '1f910' : 'zipper_mouth',
        '1f911' : 'money_mouth',
        '1f912' : 'thermometer_face',
        '1f913' : 'nerd',
        '1f914' : 'thinking_face',
        '1f915' : 'head_bandage',
        '1f916' : 'robot',
        '1f917' : 'hugging',
        '1f921' : 'clown',
        '1f922' : 'nauseated_face',
        '1f923' : 'rofl',
        '1f924' : 'drooling_face',
        '1f925' : 'lying_face',
        '1f92a' : 'zany_face',
        '1f92b' : 'shushing_face',
        '1f92c' : 'face_with_symbols_over_mouth',
        '1f92d' : 'face_with_hand_over_mouth',
        '1f92e' : 'face_vomitting',
        '1f92f' : 'exploding_head',
        '1f94e' : 'softball',
        '1f95d' : 'kiwi',
        '1f95e' : 'pancakes',
        '1f96a' : 'sandwich',
        '1f96b' : 'canned_food',
        '1f96d' : 'mango',
        '1f96f' : 'bagel',
        '1f970' : 'smiling_face_with_3_hearts',
        '1f971' : 'yawning_face',
        '1f972' : 'smiling_face_with_tear',
        '1f973' : 'party_face',
        '1f974' : 'woozy_face',
        '1f975' : 'hot_face',
        '1f976' : 'cold_face',
        '1f977' : 'ninja',
        '1f977-1f3fb' : 'ninja_1',
        '1f977-1f3fc' : 'ninja_2',
        '1f977-1f3fd' : 'ninja_3',
        '1f977-1f3fe' : 'ninja_4',
        '1f977-1f3ff' : 'ninja_5',
        '1f978' : 'disguised_face',
        '1f97a' : 'pleading_face',
        '1f97d' : 'googles',
        '1f980' : 'crab',
        '1f981' : 'lion',
        '1f984' : 'unicorn',
        '1f985' : 'eagle',
        '1f989' : 'owl',
        '1f98a' : 'fox',
        '1f98c' : 'deer',
        '1f98d' : 'gorilla',
        '1f98f' : 'rhino',
        '1f991' : 'squid',
        '1f993' : 'zebra',
        '1f994' : 'hedgehog',
        '1f995' : 'sauropod',
        '1f996' : 't_rex',
        '1f99a' : 'peacock',
        '1f99d' : 'racoon',
        '1f9a0' : 'microbe',
        '1f9a7' : 'orangutan',
        '1f9c0' : 'cheese_wedge',
        '1f9c1' : 'cupcake',
        '1f9ca' : 'ice',
        '1f9cb' : 'bubble_tea',
        '1f9db' : 'vampire_man',
        '1f9db-200d-2640-fe0f' : 'vampire_woman',
        '1f9e0' : 'brain',
        '1fa99' : 'coin',
        '1fa9e' : 'mirror',
        '2601' : 'cloud',
        '2602' : 'umbrella',
        '2603' : 'snowman',
        '2614' : 'umbrella_rain',
        '2618' : 'shamrock',
        '2620' : 'skull_and_crossbones',
        '2622' : 'radioactive',
        '2623' : 'biohazard',
        '2639' : 'frowning_face',
        '263a' : 'smiling_face',
        '267e' : 'infinity',
        '26a0' : 'warning',
        '26bd' : 'soccer_ball',
        '26be' : 'baseball',
        '26d4' : 'no_entry'
    }
    if input in dict:
        return dict[input]
    else:
        print(f"Could not find {input} in dict, I have no idea what to do, pls add it.")
        exit()


def rename_directory(directory_name, name_to_append):
    assets = os.listdir(f"../renamed_assets/{directory_name}/svg")
    for asset in assets:
        # get the file name with no extension
        file_name = os.path.splitext(asset)[0]
        final_file_name = f"{find_short_name(file_name)}_{name_to_append}"
        # rename the svg
        svg_path = f"../renamed_assets/{directory_name}/svg/{file_name}.svg"
        svg_path_modified = f"../renamed_assets/{directory_name}/svg/{final_file_name}.svg"
        os.rename(svg_path, svg_path_modified)
        # rename the png
        png_path = f"../renamed_assets/{directory_name}/png/{file_name}.png"
        png_path_modified = f"../renamed_assets/{directory_name}/png/{final_file_name}.png"
        os.rename(png_path, png_path_modified)

def main():
    # check for pre-existing renamed_assets dir. remove if it does exist,
    # so we are working with a clean slate.
    dir_path = Path('../renamed_assets')
    if dir_path.exists():
        shutil.rmtree(dir_path)
    # copy the assets directory. Note, this fails if the renamed_assets already exists
    shutil.copytree("../assets/", dir_path)
    # rename all the cowboys!
    rename_directory("cowboy", "cowboy")
    # rename all the pensive_cowboys
    rename_directory("pensive_cowboy", "pensive_cowboy")


if __name__ == "__main__":
    main()
